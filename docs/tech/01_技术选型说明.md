# 技术选型说明

## 核心框架

### Web 框架：FastAPI
**选择理由**：
- 现代化的 Python Web 框架，支持异步
- 自动生成 OpenAPI 文档
- 内置数据验证和序列化
- 优秀的性能和开发体验

### ORM：SQLAlchemy 2.0
**选择理由**：
- 成熟的 Python ORM，支持异步操作
- 强大的查询能力和关系映射
- 多数据库支持
- 丰富的生态系统

### 数据验证：Pydantic V2
**选择理由**：
- 类型安全的数据验证
- 与 FastAPI 深度集成
- 高性能的数据解析和序列化
- 清晰的错误信息

## 数据库选择

### 关系型数据库
- **MySQL**：主数据库，广泛使用
- **PostgreSQL**：支持 PostGIS 地理信息和 pgvector 向量检索

### 非关系型数据库
- **MongoDB**：文档存储，灵活的数据结构
- **Redis**：缓存、Session、分布式锁
- **Elasticsearch**：全文搜索、日志分析
- **Milvus**：AI Embedding 向量检索

## 中间件与工具

### 消息队列：Kafka
**选择理由**：
- 高吞吐量的分布式流处理平台
- 持久化和容错能力
- 支持分区和副本

### 定时任务：APScheduler
**选择理由**：
- 纯 Python 实现，易于集成
- 支持多种触发器
- 异步任务支持

### 配置管理：Pydantic Settings
**选择理由**：
- 类型安全的配置管理
- 支持环境变量和配置文件
- 自动验证和转换

## 开发工具

### 代码质量：Ruff + MyPy
- **Ruff**：快速的 Python 代码检查和格式化
- **MyPy**：静态类型检查

### 测试：pytest + httpx
- **pytest**：强大的测试框架
- **httpx**：异步 HTTP 客户端，用于 API 测试

## 部署方案

### 容器化：Docker
- 应用容器化
- 多服务编排（docker-compose）
- 生产环境部署

### 监控：Prometheus + Grafana
- 指标收集和可视化
- 告警和通知

## 参考项目

基于调研结果，主要参考：
1. **starlette-admin** - 多ORM支持设计
2. **fastapi_best_architecture** - 企业级架构实践
3. **ruoyi-vue-pro** - 接口规范和功能设计